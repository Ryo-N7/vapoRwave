---
title: "vapoRwave"
author: "Matthew Jordan Oldach"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{vapoRwave}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
knitr::opts_chunk$set(echo = TRUE, fig.width=8, fig.height=5)
library(vapoRwave)
library(tidyverse)
```

<!-- Links -->
[Twitter]:  https://twitter.com/moldach
[Github]: https://github.com/moldach 
[Personal Website]: https://moldach.github.io/ 


This package provides a number of `ggplot2` themes inspired by [vaporwave](https://en.wikipedia.org/wiki/Vaporwave), both a subgenre of electronic music and an art moment known for it's visual A E S T H E T I C S.

## Color Palette's

The colors for this theme were drawn from many vaporwave images; I selected those that worked well together for color and fill scales.

```{r}
scales::show_col(vapoRwave::vapoRwave_palette_01)
```

```{r}
scales::show_col(vapoRwave::vapoRwave_palette_02)
```

```{r}
scales::show_col(vapoRwave::vapoRwave_palette_03)
```

```{r}
scales::show_col(vapoRwave::vapoRwave_palette_04)
```

```{r}
scales::show_col(vapoRwave::vapoRwave_palette_05)
```

```{r}
scales::show_col(vapoRwave::vapoRwave_palette_06)
```

I've also included a [css file]() with the complete collection of color samples.

## Setup theme and scales

There are four theme-generating functions:

+ `floral_shoppe()` sets the plot theme to match the most recognized album cover in vaporwave, Vektroid's *Floral Shoppe* released under the one-time pseudonym of Macintosh Plus
+ `new_retro()` sets the plot theme to match the A E S T H E T I C of [New Retro Wave](https://newretrowave.com/)
+ `jwz()` sets the plot theme to match the personal blog of the American programmer [jwz](https://www.jwz.org/blog/)
+ `zelda()` sets the plot theme to that of [The Legend of Zelda](https://www.zelda.com/)

For color and fill scales, **vapoRwave** provides `scale_color_vapoRwave()` and `scale_fill_vapoRwave()` which work with any of the about palettes.

## Fonts

You will need to download these `ttf` fonts to use this package. You can import them with the [`extrafont` package](https://github.com/wch/extrafont). 

+ [Alien Encounters](http://www.hipsthetic.com/alien-encounters-free-80s-font-family/) the font used by the Dream Catalogue Vaporwave record label. This typeface invokes the forward learning, horizontally sliced fonts of Blade Runner and Tron.
+ [VCR OSD Mono](http://www.hipsthetic.com/vcr-osd-mono-free-pixel-font/) a font that evokes a child-like nostalgia associated with 8-bit consoles and malfunctioning VHS tapes.
+ [Triforce](http://www.zeldalegends.net/?n=fonts) a font that replicates the font from The Legend of Zelda's **A Link to the Past**.
+ [Streamster](http://www.hipsthetic.com/streamster-free-80s-script-font/) a font that can be used with vintage textures, 80's iconography and neon-lit colour palettes.
+ [Blade Runner](https://www.fontspace.com/phil-steinschneider/blade-runner-movie-font) a font from the motion picture Blade Runner.

Available font's on your system can be found with

```{r}
extrafont::fonts()
```

## Demos

```{r}
library(tidyverse)
library(vapoRwave)
```


### Floral Shoppe

`r knitr::include_graphics(here::here("Readme_files/FloralShoppe.png"))`

```{r floral_shoppe}
# use palette_03
ggplot(mpg, aes(displ)) + 
        geom_histogram(aes(fill=class), 
                   binwidth = .1, 
                   col="black", 
                   size=.1) +  # change binwidth
        labs(title="Floral Shoppe", 
        subtitle="Engine Displacement across Vehicle Classes") + floral_shoppe() + scale_fill_floralShoppe()

```

### New retro

`r knitr::include_graphics(here::here("Readme_files/new_retro.jpg"))`

```{r}
options(scipen=999)  # turn-off scientific notation like 1e+48
data("midwest", package = "ggplot2")
ggplot(midwest, aes(x=area, y=poptotal)) + 
  geom_point(aes(col=state, size=popdensity)) + 
  geom_smooth(method="loess", se=F, color = "#FA5F70FF") + 
  xlim(c(0, 0.1)) + 
  ylim(c(0, 500000)) + 
  labs(subtitle="Area Vs Population", 
       y="Population", 
       x="Area", 
       title="New Retro Theme", 
       caption = "Source: midwest") + new_retro()

```

### JWZ Style

`r knitr::include_graphics(here::here("Readme_files/jwz.jpg"))`

```{r}
library(ggthemes)
ggplot(mpg, aes(class, cty)) +
        geom_boxplot(aes(fill=factor(cyl))) + 
        theme(axis.text.x = element_text(angle=65, vjust=0.6)) + 
        labs(title="Box plot", 
             subtitle="City Mileage grouped by Class of vehicle",
             caption="Source: mpg",
             x="Class of Vehicle",
             y="City Mileage") + jwz_style()
```

```{r}
ggplot(faithful, aes(x = eruptions, y = waiting)) +
        geom_point() + stat_density_2d(aes(fill = ..level..), geom = "polygon") +
        jwz() + 
        scale_fill_gradient(low = "#55FFFF", high = "#8B2E8B")
```

## Using different 

Available fonts

+ `SF Alien Encounters`
+ `SF Alien Encounters Solid`
+ `VCR OSD Mono`
+ `OCR A Extended`
+ `Triforce`
+ `Blade Runner Movie Font`
+ `Streamster`

Although any `ttf` font installed on your computer can be used with the `vapoRwave` package. 

```{r bladeRunnerWaffle}
var <- mpg$class  # the categorical data 

## Prep data (nothing to change here)
nrows <- 10
df <- expand.grid(y = 1:nrows, x = 1:nrows)
categ_table <- round(table(var) * ((nrows*nrows)/(length(var))))
categ_table
#>   2seater    compact    midsize    minivan     pickup subcompact        suv 
#>         2         20         18          5         14         15         26 

df$category <- factor(rep(names(categ_table), categ_table))  
# NOTE: if sum(categ_table) is not 100 (i.e. nrows^2), it will need adjustment to make the sum to 100.

## Plot
ggplot(df, aes(x = x, y = y, fill = category)) + 
    geom_tile(color = "black", size = 0.5) +
    scale_x_continuous(expand = c(0, 0)) +
    scale_y_continuous(expand = c(0, 0), trans = 'reverse') +
    scale_fill_vaporWave() +
    labs(title="Waffle Chart", subtitle="'Class' of vehicles",
         caption="Source: mpg") + new_retro()
```

## Changing parameters

You are able to change most `ggplot2::theme()` elements from `new_retro()`, `floral_shoppe()` and `jwz()` themes.

```{r}
library(gapminder)

df <- gapminder %>% 
  filter(country %in% c("France", "Germany", "Ireland", "Italy")) %>% 
  mutate(year = as.Date(paste(year, "-01-01", sep = "", format='%Y-%b-%d')))

ggplot(df, aes(x = year, y = gdpPercap, fill = country)) +
  geom_area(alpha = 0.4) +
  scale_x_date(breaks = df$year, date_labels = "%Y") +
  scale_y_continuous(expand = c(0, 0), labels = scales::dollar) +
  labs(title = "",
       subtitle = "GDP per capita by country, 1952-2007",
       caption = "Source: Gapminder.org  |  @traffordDataLab",
       x = NULL,
       y = "GDP per capita ($)",
       fill = NULL) +
  floral_shoppe(text.color = "black", font = "OCR A Extended", legend_position = "bottom") +
  scale_fill_newRetro()
```

```{r}
ggplot(filter(gapminder, year == 2007), aes(x = gdpPercap, y = lifeExp)) +
    scale_x_log10(labels = scales::dollar) +
    geom_point(aes(size = pop, fill = continent), shape = 21, colour = "white", alpha = 0.6) +
    scale_size_continuous(range = c(1, 20)) +
    labs(title = "",
         subtitle = "Relationship between life expectancy and income, 2007",
         caption = "Source: Gapminder.org  |  @traffordDataLab",
         x = "GDP per capita ($)",
         y = "Age (years)") +
    guides(size = FALSE) +
    jwz(font = "Streamster", text.color = "pink", subtitle.size = 16) + scale_fill_hyperBubble()
```

```{r}
library(forecast)

# Subset data
nottem_small <- window(nottem, start=c(1920, 1), end=c(1925, 12))  # subset a smaller timewindow

# Plot (capital "B" is the Blade Runner guy)
ggseasonplot(nottem_small) + labs(title="Seasonal B plot:", subtitle = "Air temperatures at Nottingham Castle") + scale_color_jwz() + new_retro(font = "Blade Runner Movie Font")
```

`vapoRwave` also works with `ggplot2` extensions.

```{r}
library(ggcorrplot)
mydata <- mtcars[, c(1,3,4,5,6,7)]
corr <- round(cor(mydata),1)
ggcorrplot(corr, hc.order = T, 
           type = 'lower',
           outline.color = 'white',
           ggtheme = ggplot2::theme_bw,
           colors = c('#79ADDC', 'white', '#CC7E85'),
           lab = T) + floral_shoppe()
```

